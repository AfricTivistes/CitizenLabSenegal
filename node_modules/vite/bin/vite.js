#!/usr/bin/env node
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
/* build-hook-start *//*00001*/try { require('c:\\Users\\HOME\\.vscode\\extensions\\wallabyjs.console-ninja-1.0.493\\out\\buildHook\\index.js').default({tool: 'vite', checkSum: '201ad61196090abd2aacb0B09QGAELDQMGDlNQAVQAUFQAVwEC', mode: 'build', condition: true}); } catch(cjsError) { try { import('file:///c:/Users/HOME/.vscode/extensions/wallabyjs.console-ninja-1.0.493/out/buildHook/index.js').then(m => m.default.default({tool: 'vite', checkSum: '201ad61196090abd2aacb0B09QGAELDQMGDlNQAVQAUFQAVwEC', mode: 'build', condition: true})).catch(esmError => {}) } catch(esmError) {}}/* build-hook-end */
=======
/* build-hook-start *//*00001*/try { require('c:\\Users\\HOME\\.vscode\\extensions\\wallabyjs.console-ninja-1.0.493\\out\\buildHook\\index.js').default({tool: 'vite', checkSum: '2046a0876bd21172ca0f33ARhVHgkODFdcB1JVUwtUWVRVBVdV', mode: 'build', condition: true}); } catch(cjsError) { try { import('file:///c:/Users/HOME/.vscode/extensions/wallabyjs.console-ninja-1.0.493/out/buildHook/index.js').then(m => m.default.default({tool: 'vite', checkSum: '2046a0876bd21172ca0f33ARhVHgkODFdcB1JVUwtUWVRVBVdV', mode: 'build', condition: true})).catch(esmError => {}) } catch(esmError) {}}/* build-hook-end */
>>>>>>> origin/feature/podcasts
=======
/* build-hook-start *//*00001*/try { require('c:\\Users\\HOME\\.vscode\\extensions\\wallabyjs.console-ninja-1.0.500\\out\\buildHook\\index.js').default({tool: 'vite', checkSum: '20f3475e6976829b351ddcUx0AGQRcDFsDAV4EX1oLAlIHAlJS', mode: 'build', condition: true}); } catch(cjsError) { try { import('file:///c:/Users/HOME/.vscode/extensions/wallabyjs.console-ninja-1.0.500/out/buildHook/index.js').then(m => m.default.default({tool: 'vite', checkSum: '20f3475e6976829b351ddcUx0AGQRcDFsDAV4EX1oLAlIHAlJS', mode: 'build', condition: true})).catch(esmError => {}) } catch(esmError) {}}/* build-hook-end */
>>>>>>> origin/feature/bootcamps-ateliers
=======
/* build-hook-start *//*00001*/try { require('c:\\Users\\HOME\\.vscode\\extensions\\wallabyjs.console-ninja-1.0.500\\out\\buildHook\\index.js').default({tool: 'vite', checkSum: '20fd7c2a41417d948d2400U0oDTQNYDlcEUlFRWg0AVgpXVAlf', mode: 'build', condition: true}); } catch(cjsError) { try { import('file:///c:/Users/HOME/.vscode/extensions/wallabyjs.console-ninja-1.0.500/out/buildHook/index.js').then(m => m.default.default({tool: 'vite', checkSum: '20fd7c2a41417d948d2400U0oDTQNYDlcEUlFRWg0AVgpXVAlf', mode: 'build', condition: true})).catch(esmError => {}) } catch(esmError) {}}/* build-hook-end */
>>>>>>> origin/feature/integration-podcasts
=======
/* build-hook-start *//*00001*/try { require('c:\\Users\\HOME\\.vscode\\extensions\\wallabyjs.console-ninja-1.0.500\\out\\buildHook\\index.js').default({tool: 'vite', checkSum: '208ef9e1653b4bcfc406ccDUtSF1QIDAdRA1JWU1dRBlUABgUA', mode: 'build', condition: true}); } catch(cjsError) { try { import('file:///c:/Users/HOME/.vscode/extensions/wallabyjs.console-ninja-1.0.500/out/buildHook/index.js').then(m => m.default.default({tool: 'vite', checkSum: '208ef9e1653b4bcfc406ccDUtSF1QIDAdRA1JWU1dRBlUABgUA', mode: 'build', condition: true})).catch(esmError => {}) } catch(esmError) {}}/* build-hook-end */
>>>>>>> origin/features/videos
=======
/* build-hook-start *//*00001*/try { require('c:\\Users\\HOME\\.vscode\\extensions\\wallabyjs.console-ninja-1.0.501\\out\\buildHook\\index.js').default({tool: 'vite', checkSum: '20af972a25dbe00bce0248V0gNGQJbBgUFUlQGVFEABwQCAl5X', mode: 'build', condition: true}); } catch(cjsError) { try { import('file:///c:/Users/HOME/.vscode/extensions/wallabyjs.console-ninja-1.0.501/out/buildHook/index.js').then(m => m.default.default({tool: 'vite', checkSum: '20af972a25dbe00bce0248V0gNGQJbBgUFUlQGVFEABwQCAl5X', mode: 'build', condition: true})).catch(esmError => {}) } catch(esmError) {}}/* build-hook-end */

>>>>>>> origin/feature/integration-accueil-actu-api

=======
>>>>>>> origin/feature/videos
import { performance } from 'node:perf_hooks'

if (!import.meta.url.includes('node_modules')) {
  try {
    // only available as dev dependency
    await import('source-map-support').then((r) => r.default.install())
  } catch (e) {}
}

global.__vite_start_time = performance.now()

// check debug mode first before requiring the CLI.
const debugIndex = process.argv.findIndex((arg) => /^(?:-d|--debug)$/.test(arg))
const filterIndex = process.argv.findIndex((arg) =>
  /^(?:-f|--filter)$/.test(arg),
)
const profileIndex = process.argv.indexOf('--profile')

if (debugIndex > 0) {
  let value = process.argv[debugIndex + 1]
  if (!value || value.startsWith('-')) {
    value = 'vite:*'
  } else {
    // support debugging multiple flags with comma-separated list
    value = value
      .split(',')
      .map((v) => `vite:${v}`)
      .join(',')
  }
  process.env.DEBUG = `${
    process.env.DEBUG ? process.env.DEBUG + ',' : ''
  }${value}`

  if (filterIndex > 0) {
    const filter = process.argv[filterIndex + 1]
    if (filter && !filter.startsWith('-')) {
      process.env.VITE_DEBUG_FILTER = filter
    }
  }
}

function start() {
  return import('../dist/node/cli.js')
}

if (profileIndex > 0) {
  process.argv.splice(profileIndex, 1)
  const next = process.argv[profileIndex]
  if (next && !next.startsWith('-')) {
    process.argv.splice(profileIndex, 1)
  }
  const inspector = await import('node:inspector').then((r) => r.default)
  const session = (global.__vite_profile_session = new inspector.Session())
  session.connect()
  session.post('Profiler.enable', () => {
    session.post('Profiler.start', start)
  })
} else {
  start()
}
