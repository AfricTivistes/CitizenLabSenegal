---
import Layout from "~/layouts/PageLayout.astro";
import Stats from "~/components/widgets/Stats.astro";
import Headline from "~/components/ui/Headline.astro";
import { getAllMembers } from "~/utils/api";
import Membres from "~/components/blog/Membres.astro";


const metadata = {
  title: 'Equipe',
};

// Debug: Vérifier la variable d'environnement
console.log('PUBLIC_WORDPRESS_API_URL:', import.meta.env.PUBLIC_WORDPRESS_API_URL);

const members = await getAllMembers();
console.log('Members fetched:', members.length, members);
---

<Layout metadata={metadata}>
  <div>
    <Headline
      subtitle="L'équipe Citizen Lab Sénégal est composée de jeunes engagés avec des profils divers et complémentaires. Ce sont des acteurs de changement conscients de leur leadership et de leur volonté d'impacter"
      title="Membres de l'équipe"
    >
    </Headline>

    <!-- Membres ****************** -->
    
    <!-- Debug: Affichage direct des données -->
    <div class="bg-yellow-100 p-4 mb-4">
      <h3>Debug - Membres récupérés: {members.length}</h3>
      <p>URL API: {import.meta.env.PUBLIC_WORDPRESS_API_URL || 'Non définie'}</p>
      <pre>{JSON.stringify(members, null, 2)}</pre>
    </div>

    <Membres team={members}/>

    <!-- Stats Widget ****************** -->

    <Stats
      stats={[
        { title: 'Offres de formations', amount: '50' },
        { title: 'Jeunes outillés', amount: '+150' },
        { title: 'Contenus de Valeurs', amount: '+130' },
        { title: "Nouvelles consciences citoyennes", amount: '+10M' },
      ]}
    />
  </div>

</Layout>
